var test = require('tap').test,
    armory = require('armory').defaults({ region: 'us', fallback: false  }),
    wowhead = require('../');

test('red, yellow, blue', function(t) {
    wowhead(34397, function(err, item) {
        t.error(err);
        t.ok(item);

        armory.item(34397, function(err, armoryItem) {
            t.error(err);
            t.ok(armoryItem);

            t.similar(item.socketInfo, armoryItem.socketInfo);
            t.end();
        });
    });
});

test('meta, cogwheel', function(t) {
    wowhead(59455, function(err, item) {
        t.error(err);
        t.ok(item);

        armory.item(59455, function(err, armoryItem) {
            t.error(err);
            t.ok(armoryItem);

            t.similar(item.socketInfo, armoryItem.socketInfo);
            t.end();
        });
    });
});